# =============================================================================
# TechBlit Cloud Functions - Environment Variables
# =============================================================================
# Copy this file to .env in the functions/ directory and fill in your values
# NEVER commit .env file to git (it should be in .gitignore)
# =============================================================================

# =============================================================================
# SITE CONFIGURATION
# =============================================================================
# Your website's base URL (used for sitemap, preview URLs, etc.)
SITE_URL=https://techblit.com

# Frontend URL (for preview tokens and redirects)
FRONTEND_URL=https://techblit.com
# For local development: FRONTEND_URL=http://localhost:3000

# Environment (development, staging, production)
NODE_ENV=production

# Google Cloud Project ID (usually auto-detected, but can be set explicitly)
GCLOUD_PROJECT=techblit

# =============================================================================
# SITEMAP CONFIGURATION
# =============================================================================
# Set to 'true' to cache sitemap.xml in Cloud Storage for faster access
# Recommended for high-traffic sites
CACHE_SITEMAP_TO_STORAGE=false

# Sitemap endpoint URL (if different from default)
# Default: https://generatesitemap-4alcog3g7q-uc.a.run.app
SITEMAP_ENDPOINT_URL=https://generatesitemap-4alcog3g7q-uc.a.run.app

# Auto-submit sitemap to Google Search Console (default: true)
# Set to 'false' to disable automatic submission
AUTO_SUBMIT_SITEMAP=true

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email service configuration for sending invitations and notifications
# For Gmail, use an App Password (not your regular password)
# See: https://support.google.com/accounts/answer/185833

# Gmail SMTP (for development/testing)
EMAIL_SERVICE=gmail
EMAIL_USER=seguncodes@gmail.com
EMAIL_PASSWORD=vwtq xcuf nmmt ecuh

# For production, consider using SendGrid, Mailgun, or AWS SES
# SendGrid example:
# EMAIL_SERVICE=sendgrid
# EMAIL_USER=apikey
# EMAIL_PASSWORD=your-sendgrid-api-key

# Email addresses
EMAIL_FROM=noreply@techblit.com
EMAIL_REPLY_TO=support@techblit.com

# =============================================================================
# PREVIEW TOKEN CONFIGURATION
# =============================================================================
# Secret key for generating secure preview tokens
# Generate a strong random string: openssl rand -base64 32
PREVIEW_TOKEN_SECRET=your-secret-key-change-in-production-min-32-chars

# =============================================================================
# WORDPRESS MIGRATION (Optional - for migration scripts only)
# =============================================================================
# WordPress REST API URL for migration scripts
WORDPRESS_URL=https://techblit.com/wp-json/wp/v2

# =============================================================================
# GOOGLE SERVICES CONFIGURATION
# =============================================================================
# Google Indexing API - for automatic post indexing
# Setup instructions:
# 1. Go to: https://console.cloud.google.com/apis/library/indexing.googleapis.com
# 2. Enable the Indexing API for your project
# 3. Create a Service Account: IAM & Admin > Service Accounts > Create Service Account
# 4. Grant the service account "Owner" role (or create custom role with Indexing API permissions)
# 5. Create a JSON key for the service account and download it
# 6. In Google Search Console: Settings > Users and permissions > Add the service account email as Owner
# 7. Extract the email and private_key from the JSON file and set them below

# Service Account Email (from the JSON key file)
GOOGLE_CLIENT_EMAIL=google-index@techblit.iam.gserviceaccount.com

# Service Account Private Key (from the JSON key file, keep the \n characters)
# The private key should be in the format: "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# When setting in Firebase, keep the \n as literal characters (they will be replaced)
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCcYxnsSy69IVdc\np3CAheLnqy9ri2FiGaqMeCTk0tFxykEoLJFVAII2hP24dmN32UXD3e5en14QDOYx\nJUOIkNbgzLKvwh2+vHxLcQKR614bImf23g5n4ox/fiSG9Uh6tLcctFGDtzW02D3C\ntuI1KFFAbYnZ+BzmXBW+d/P3meEiEAMq7hNPMzkG5VFWd0pQaqZ9OI5V7Bm5a8oz\n8FJuDsogtEJPAlogpVnhZRvHhWnQMpOS6Uqx2EV9ywcPHmxWGzn+lpPrdoApYT7F\n7ZnVsMGtFiwwmIpMfRP8nZISdInwAwKJROTaQyizWT2W/gFC1lk2GcbSR3f7AGhf\nAyCFEEMFAgMBAAECggEAJkR+yao9CeVAeCj119FLTJbAUA/neMagi+ZzWrX2r+JG\nzuKW/oaVFmu1HUAFB4T4dB0YsPlM3l8VrfV5INAWcKROXkFBH5UGUjyZXSUL3lZt\nO8SrIEMYz7LJk+euAG67tw+tua4pe3MFq+GuGUVgGoSjXJ3AzqK+ZGD8Zzx1kWyZ\nOWZcHT2JK6kyMbRtIP86+5foTO5KxGrXMX8Dgl1t52SjHdA2AqBh4VfODv1OI2u8\nstjJtfAEU93drR5NUe3K08Qs52eEJWGN2TyvkBugBKz9N/Vpb7F2qJyTT98/XG/p\nHkWMA/V+80buyWcvGVwdIccx4d3Yh6OJkubbQH9NkQKBgQDIXKmVb6C4/6ETp1PE\nMHmY5jEV0ME4szR/6B0ZSg5ipJOrlQZKfcHHn6v4jvJSG2hOT7dVk+ksxiM8Jy5A\nQwxNfO3dyOKOA7k/WCYgK3iTo9UbSehRlT5upweHSCeqlZ1Kdft203wzzecrhoxo\nFUbz1At2rO82vHcvaFKwPCEe1QKBgQDH0Fp5FS3BxjO/yGw6Q6VW3U42yCHYNpI5\nPOyLgmbYOo+tbl9/34Ls2Vsfg0b1GiGfvsypRoh30Rwg8tl2GMNt3UriXkITvlq0\nIQ4MYRWc+wLBPKglUZRvZqe4AVZATrY6rzbLxmmvLxw6Cf655erTfu+0bjjBweGa\npvgs5eSLcQKBgAKICSx2KJWtxR82cfx8kEy6O8yGwqowuW0URanYIa5lXehBDb9L\nL3OSNN4DEFSxO/QhVbOjFsMWDcPoytDNCA7CkU7IBvS8X07JklG9utxCqaKaoHDH\nbe5/9bxj0Px6v239Z5vsuBj/dPg7zvJRsn/KIgrxzGPopajXrJPFbrWxAoGAM0gy\nMClTWQw5c9tIi5uY77ZUwJKUvR0kYjRUsWmCY7SD84sET5lZzNfsHyZeK8HNJ2ac\nuEU1+SpeAcbSMREh9yx4b6ipZM/SD7D8Hgk8ttFlX5rlvM43PnAmU39kV5TcCCu3\n8Iy3yxJYOD0gdy2fGzDU7IXtYy0TbdG0mDFYesECgYBL0i/uB8jeTttFX7xg/eCz\nyyC2VsyZkhDrjECwU7ElJ0IiPkk7pN5OH9GGcaHElpxHVeTcR6DO8K+KATe9zObd\njJ/rRHJjJWhq0z8rn4hllsT7MHwYH4ggynpGH05V8JLlMsSjXpUIYwx47PrvYe1B\nd9xBugFODJ2lGfNq2EKdZA==\n-----END PRIVATE KEY-----\n"

# Google Cloud Project ID (optional, usually auto-detected)
GOOGLE_PROJECT_ID=your-project-id

# Google Search Console Property URL (for reference)
GOOGLE_SEARCH_CONSOLE_PROPERTY_URL=https://techblit.com

# =============================================================================
# VERCEL CONFIGURATION (Optional - if using Vercel for frontend)
# =============================================================================
# Vercel revalidation URL for ISR (Incremental Static Regeneration)
# Format: https://your-site.vercel.app/api/revalidate
VERCEL_REVALIDATE_URL=https://techblit.vercel.app/api/revalidate

# Vercel revalidation secret (set in Vercel dashboard)
VERCEL_REVALIDATE_SECRET=your-vercel-revalidate-secret

# =============================================================================
# SOCIAL MEDIA & WEBHOOKS (Optional)
# =============================================================================
# Webhook URL for social media sharing notifications
# Can be used to trigger social media posts when content is published
SOCIAL_SHARE_WEBHOOK_URL=https://your-webhook-url.com/social-share

# =============================================================================
# OPENAI CONFIGURATION (Optional - for AI features)
# =============================================================================
# OpenAI API key for AI-powered features (if implemented)
OPENAI_API_KEY=sk-your-openai-api-key-here

# =============================================================================
# GROK / X.AI CONFIGURATION (Required for Grok Trends feature)
# =============================================================================
# X.AI API key for Grok AI integration
# Get your API key from: https://console.x.ai/
# 
# Setup instructions:
# 1. Sign up at https://x.ai (or use existing X/Twitter account)
# 2. Go to https://console.x.ai/
# 3. Navigate to API Keys section
# 4. Create a new API key
# 5. Copy the key (starts with "xai-")
# 6. For LOCAL DEVELOPMENT: Add to .env.local (this file is gitignored)
# 7. For PRODUCTION: Use Firebase Secret Manager (see below)
#
# IMPORTANT: Do NOT add XAI_API_KEY to .env file!
# Firebase Functions v2 uses secrets, and having it in .env causes deployment conflicts.
#
# For production, use Firebase Secret Manager:
# firebase functions:secrets:set XAI_API_KEY
#
# For local development, create .env.local and add:
# XAI_API_KEY=xai-your-api-key-here

# Grok Model (optional, defaults to 'grok-3')
# Available models: grok-2, grok-3
# Note: grok-beta was deprecated on 2025-09-15, use grok-3 instead
GROK_MODEL=grok-3

# Grok API URL (optional, defaults to X.AI API endpoint)
GROK_API_URL=https://api.x.ai/v1/chat/completions

# =============================================================================
# CLOUDINARY CONFIGURATION (Required for image uploads)
# =============================================================================
# Cloudinary credentials for image management and delivery
# Get these from: https://cloudinary.com/console
# 
# Setup instructions:
# 1. Sign up at https://cloudinary.com (free tier available)
# 2. Go to Dashboard > Settings > Account Details
# 3. Copy Cloud Name, API Key, and API Secret
# 4. Set them below or use Firebase Secret Manager for production

# Cloudinary Cloud Name (found in Dashboard)
CLOUDINARY_CLOUD_NAME=your-cloud-name

# Cloudinary API Key (found in Dashboard)
CLOUDINARY_API_KEY=your-api-key

# Cloudinary API Secret (found in Dashboard - keep this secret!)
CLOUDINARY_API_SECRET=your-api-secret

# =============================================================================
# FIREBASE CONFIGURATION (Usually auto-detected)
# =============================================================================
# These are usually auto-detected from Firebase, but can be set explicitly
# FIREBASE_PROJECT_ID=techblit
# FIREBASE_STORAGE_BUCKET=techblit.firebasestorage.app

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate strong secrets: openssl rand -base64 32
# 2. Never commit .env file to git
# 3. Use different values for development and production
# 4. Rotate secrets regularly
# 5. Use Firebase Secret Manager for production (recommended)
#
# To set secrets in Firebase:
# firebase functions:secrets:set SECRET_NAME
#
# To use secrets in code:
# const secret = process.env.SECRET_NAME

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================
# [ ] Set SITE_URL
# [ ] Set FRONTEND_URL
# [ ] Configure email (EMAIL_USER, EMAIL_PASSWORD)
# [ ] Set PREVIEW_TOKEN_SECRET (generate strong secret)
# [ ] Configure Cloudinary (CLOUDINARY_CLOUD_NAME, CLOUDINARY_API_KEY, CLOUDINARY_API_SECRET)
# [ ] Optional: Configure Google Indexing API
# [ ] Optional: Configure Vercel revalidation
# [ ] Test email sending
# [ ] Test preview tokens
# [ ] Test image uploads
# [ ] Deploy to Firebase
